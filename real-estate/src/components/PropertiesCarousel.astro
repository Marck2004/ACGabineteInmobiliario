---
import AngleLeft from "@/assets/svg/Angle-left.astro";
import AngleRight from "@/assets/svg/Angle-right.astro";
import { getCollection } from "astro:content";
import SectionTitle from "./SectionTitle.astro";

const properties = await getCollection("properties");
---

<div class="relative p-14">
    <SectionTitle Children="Inmuebles" />
    <div class="carousel w-full pt-5 relative min-h-48 justify-center">
        <div
            class="grid-cols-1 carousel-item relative gap-5 w-[75%] justify-center"
        >
            {
                properties.map((propertie) => (
                    <section class="group w-1/3 z-10 transform transition-all hover:scale-105 relative">
                        <div class="absolute w-1/3 bg-[#c22a24] left-0 rounded-r-lg pl-5 mt-5 py-2 px-4">
                            <p class="text-white items-center text-xl">
                                En venta
                            </p>
                            <p class="font-bold text-xl text-white">
                                {propertie.data.features.totalPrice}
                            </p>
                        </div>
                        <img
                            src={propertie.data.images[0]}
                            class="rounded-2xl shadow-2xl shadow-inherit  object-cover"
                        />
                        <h3 class="font-bold p-3">
                            <a href="#">{propertie.data.title}</a>
                        </h3>
                    </section>
                ))
            }
            <div
                class="absolute left-[-5%] right-[-5%] top-1/2 flex -translate-y-1/2 transform justify-between"
            >
                <a href="#slide4"><AngleLeft /></a>
                <a href="#slide2"><AngleRight /></a>
            </div>
        </div>
    </div>
</div>
